/**
 *
 * Firefox 4.0 +
 *
 **/

@import url("chrome://tabmixplus/content/overlay/browsroverlay_base.css");

.tabbrowser-arrowscrollbox[type=tabmix-box] {
  -moz-binding: url("chrome://tabmixplus/content/tab/scrollbox.xml#tabmix-right-scrollBox") !important;
}

.tabbrowser-tabs {
  -moz-binding: url("chrome://tabmixplus/content/tab/tabbrowser_4.xml#tabmix-tabbrowser-tabs") !important;
}

.tabbrowser-tabs > .tabbrowser-arrowscrollbox {
  -moz-binding: url("chrome://tabmixplus/content/tab/scrollbox.xml#tabmix-arrowscrollbox-clicktoscroll") !important;
}

.tabbrowser-tab {
  -moz-binding: url("chrome://tabmixplus/content/tab/tabbrowser_4.xml#tabmix-tabbrowser-tab") !important;
}

#TabsToolbar > #tabs-closebutton {
 -moz-binding: url("chrome://tabmixplus/content/tab/tabbrowser_4.xml#tabbrowser-close-tab-button")!important;
}

/* showhover button */
.showhover-box > .showhover {
 -moz-binding: url("chrome://browser/content/tabbrowser.xml#tabbrowser-close-tab-button");
}

.tabbrowser-tabs:not([defaultScrollButtons]) > .tabbrowser-arrowscrollbox:not([_side]) > .scrollbutton-up,
.tabbrowser-tabs:not([defaultScrollButtons]) > .tabbrowser-arrowscrollbox:not([_side]) > .scrollbutton-down {
  visibility: collapse;
}

#TabsToolbar:not([tabstripoverflow]) > #tabmixScrollBox,
#tabmixScrollBox[flowing="singlebar"],
#tabmixScrollBox[defaultScrollButtons] {
  visibility: collapse;
}

/*** hide tabs-newtab-button that we don't use
 *
 * we set newtab_side only for left ot right side afterlast position rules are set by Firefox
 *
 ***/
#tabbrowser-tabs[overflow="true"] > .tabbrowser-arrowscrollbox > .tabs-newtab-button,
#TabsToolbar[newTabButton=false] .tabbrowser-arrowscrollbox > .tabs-newtab-button,
#TabsToolbar[disAllowNewtabbutton] .tabbrowser-arrowscrollbox > .tabs-newtab-button,
#TabsToolbar[newtab_side] .tabbrowser-arrowscrollbox > .tabs-newtab-button {
  visibility: collapse;
  height: 0px !important;
  width: 0px;
  border: none;
  margin: 0px;
  vertical-align: bottom;
}

#TabsToolbar:not([newTabButton=false]):not([disAllowNewtabbutton]):not([newtab_side]) >
   #tabbrowser-tabs:not([overflow="true"]) > .tabbrowser-arrowscrollbox > .tabs-newtab-button{
  visibility: visible;
}

#TabsToolbar[onStartNewTabButton] .tabbrowser-arrowscrollbox > .tabs-newtab-button {  /* look in tabmix.js */
  visibility: visible !important;
}

#TabsToolbar[newTabButton=true][tabstripoverflow] > #new-tab-button,
#TabsToolbar[newTabButton=true][disAllowNewtabbutton]:not([tabstripoverflow]):not([newtab_side]) > #new-tab-button,
#TabsToolbar[newTabButton=true][newtab_side] > #new-tab-button {
  visibility: visible;
}

/* In vertical tabbar the default rules from chrome://browser/content/browser.css are sufficient */
#TabsToolbar:not([orient="vertical"]):not([disAllowNewtabbutton]):not([tabstripoverflow]):not([newtab_side]) > #new-tab-button,
#TabsToolbar[newTabButton=false] > #new-tab-button {
  visibility: collapse;
}

/***  Tab opening animation  ***/
.tab-progress-container > .tab-progress:not([fadein]):not([pinned]),
.tab-icon:not([fadein]):not([pinned]) > .tab-protect-icon,
.tab-icon:not([fadein]):not([pinned]) > .tab-lock-icon,
.tab-icon:not([fadein]):not([pinned]) > .tab-reload-icon,
.tab-text-stack:not([fadein]):not([pinned]) > .tabs-closebutton {
   display: none !important;
}

/* we have display: -moz-box !important; in browsroverlay_base.css
so display: none !important; is not hide the button */
.tab-close-button:not([fadein]) {
  opacity: 0;
}

/*
 When the tabbar is in display:block hiding this items on a tab collapses the
 height when the is no close button on the tab
*/
.tabbrowser-tabs[flowing=multibar] .tab-throbber:not([fadein]):not([pinned]),
.tabbrowser-tabs[flowing=multibar] .tab-label:not([fadein]):not([pinned]),
.tabbrowser-tabs[flowing=multibar] .tab-icon-image:not([fadein]):not([pinned]),
.tabbrowser-tabs[flowing=multibar] .tab-close-button:not([fadein]):not([pinned]) {
  display: -moz-box !important;
  visibility: collapse !important;
  width: 0px !important;
}

/* we don't remove top and bottom borders to prevent tab height from shrinking */
.tabbrowser-tab:not([fadein]):not([pinned]) {
  border-left: none;
  border-right: none;
}

/*** backword compatibility with theme that still use old tabmix tab binding ***/
.tabbrowser-tab:not([fadein]):not([pinned]) .tab-text-stack > .tab-progress {
  display: none !important;
}

/***  Pinned Tab  ***/
.tab-text-stack[pinned] {
  width: 0;
  margin-left: 0 !important;
  margin-right: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* hide new tab in session manager */
.tabbrowser-tab[tabmix_hide] {
  display: none;
}

/***  For progressmeter on tab Firefox 4.0+  ***/
.tab-progress {
  margin: 0;
  min-width: 0;
}

.tabbrowser-tab > .tab-stack > .tab-progress-container > .tab-progress {
  display: none;
}

.tabbrowser-tabs[progressMeter] .tabbrowser-tab:not([pinned])[busy] > .tab-stack > .tab-progress-container > .tab-progress[value] {
  display: -moz-box;
}

/* :::: multi-row :::: */
.tabbrowser-arrowscrollbox[flowing=multibar][orient=vertical] > scrollbox > .scrollbox-innerbox {
  display: block !important;
}

/* :::: widthFitTitle :::: */
.tabbrowser-tabs:not([widthFitTitle]) > .tabbrowser-tab:not([pinned]) {
  -moz-box-flex: 100;
  width: 0;
}


/* :::: tabbar on bottom :::: */
/* we don't need rule for toolbar-drag - when tabbar on bottom */
#TabsToolbar[tabbaronbottom] {
  -moz-binding: url("chrome://tabmixplus/content/tab/scrollbox.xml#toolbar") !important;
  position: fixed !important;
  -moz-appearance: none !important;
/* look at browser.css for each platform
  background-image: none !important;
*/
}

/* this will trigger resize if we exit hidden tabbar mode before
   we set width or height to this box
*/
#tabmix-bottom-toolbox {
  min-width: 1px;
  min-height: 1px;
}
